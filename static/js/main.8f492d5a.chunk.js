(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{259:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAsJCQcJCQcJCQkJCwkJCQkJCQsJCwsMCwsLDA0QDBEODQ4MEhkSJRodJR0ZHxwpKRYlNzU2GioyPi0pMBk7IRP/2wBDAQcICAsJCxULCxUsHRkdLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCz/wAARCACkALUDASIAAhEBAxEB/8QAHAABAAAHAQAAAAAAAAAAAAAAAAECAwQFBgcI/8QAPRAAAgEDAwEHAAgFAwIHAAAAAQIDAAQRBRIhMQYTIkFRYXEHFDJCgZGhsRUjUrLRJEPBcnMXM2JjgoPh/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAECAwQF/8QAJxEAAgICAgEDBAMBAAAAAAAAAAECEQMSITFBBBMiFDKR8DNRYdH/2gAMAwEAAhEDEQA/AOt0pSgFKUoBSlKAUpSgFKUoBUCQoJYgAAkkkAADnJJqNYPtLcSR6ZcQQOBc3QWKMZwTGWAkz7YyPxqsnqrLRjs0kZaC6s7kM1tcwTqhAcwSpIFJ5AJQmq1cz7OW8+maxbTzssdoYp4pGRjtZmULGCi/44rpY6VnhyPJG2qNM2P25VdkaUpWxiKUpQClQqNAKUpQClKUApSlAKUpQClKUApSlAKUqSSSOMZdgo8s+fwKAnrUO09vqBuY5LeOSYSx4VU/2+746k9CTmthfUIVJCIz+/Cqfgnn9Kxs07zlpH9gB5Ac4Armyzi1VnRhjKMtqNPjtdZbu1exuFZ2VVJVftMdoBwa6TZwvb2lnA7B3hgiiZhnDMihSRmte3defskBTj8evWspDqi7QsyNlfCzgjBPrg4qmCUY2aZ9pUZSlSRyJKoZGDKfMHz64NT12HGKUpQClKUApSlAKUpQClKUApSlAKUqVmRAzMVVVBLMxAAA8yTxQE1KpC5tGztngbAydsiHA98GrS51C3EciwuWlPAADDaD97JFVcklbJUW+ESX166O8UfGweNuPMA4FY5juwck5wckk9eeM1Acnc2TknxKSCT+FAHbhQh5C4B3Y8wGx51588jmzvhjUUQV0PQjaR1z0xx5VLlTzgqG5CnncQcfnUr3EaHu5JIowOpBJ24JbxEAAZ+f3qdiPGW2oMlmkJwhB5HiJrLazWqIbRnIQeEOAS5ABIwDxmqeQQN+A2DgZYjI5bH6VL3u5pu7KMoIzIRuQbVyNh3Hz/8AT/kyLMrHaxCswPeBjwjryAefny/aociVGy5t7qW2bfGw5wCjHwtnpmtit547iJZFxk8MuclW81NawVO0bQSGjYlwAQ3HJQj9Kr2F61pPtbIt32iXcBkMBgMMD866MOVxdPo582JSVrs2alQBDAEEEEZBHQg+YqNegcIpSlAKUpQClKUApSlAKUpQFG5nitbe5uZd3d28Uk0mwZbag3HAJ61pJ7SX2rNcwdxHDbIAwCFy8uWOFkJ44HUevxW63dul3bXVrIWCXEMkLlCAwVxtOCfOtXk7NnTIZprWSWclsyK+0kIBwUVVBJrmze5a168nTg9tXt34LHTi7XnmAkbSHHQ4IXH61kodxlu2OOHVOpbAVc5x75qy0+K9SczNa3CwmN4t7xMFBJDZJI9quLNP9VqjFjsZbRsluAdrAmuanrydUmm+C4YBioG/KFiA2VGGGOAOtVF4IbEYBOcx53dcE/NS+EsBkO56benrxUFK5TbGoAXOFCqCDknaB+tZkmLNvdx32lzb2W3t3v21G3KzSNdNLHst2jCKUbbzkMRjOecU1T63b6S8cSmS4RIUBBEjDe/iIVeePXHGKy/esNh++x2jGAuwDDZPX4rHS3UFpJax77dZZxI8I3d3EyIwBMYbnw5x7mqa0iyfNlno/wDE/wCG3RukVXaKX6upQibYEKHeDzuJzj2x61FIb9JpzIIFsQ9r/D1jZGuCGRFzOc787t27I449aydvNC7MY3jkdkBMsRDBQMgCQrk5qtkDZJ4DLjDOEy+c4P2vXk1GvDolyt/0UpS6vsypUBtxjPIPooHGKoYDnrwWyMk9evJqrJKQ+0k7juxtPgAzjMmTncPIjiqIfL93g7cMQfujxBcge/WrlTM6TegSGxkPj2vLEeTlQQCuTWbrRJ2CXGnKHy47xzhudgAAPr1omqambi4kW7n2i4YIpkZo9owBhckYrshm1jyc0sGz4N6qNYPszqV5qenSTXTI0sN7d2hdFC71iYYLAcZ55+KzldMZKSTRyyi4txYpSlWKilKUApSlAKUpQCoVGlAQrD3dotvNNcxKoS4CiUYG1WXJBx71mapXEInhkiJxvA5xnBBDDiqTjsqLQlq7NY3DcQwXJyM4wMDoB6VAOWCANnAByAOR9rA88etS3lpeQYedWABYGRcGMk++eOPWrKKYIww2wjIznyIPH415sk4umelGpK0XneIpGXdRzhRzv5/YZqyvrG11OBEclSjb45wFeWPBJ2rnjB/xUJZY45MliMjwk9T0ziowzIMNkBcEklh164qjaLpNck9jY22lwSJDJJI0rxtI05AIIzjATAA88ZNXRdmBDAsSynduIHiO4ncOM/8A7VkbpI1COy5UYIIyS5ORyPTiqgnUoqOoaOXDEHPhA4H70RDtuyeQpyxckByMvhiFOcouB09Kir5JwOQ2weu0EEgHFWrzJkxhRtTwY5PHQn8KvtPtLy7cBAyxbWBmKtsQjALKehb2q8U5OkUk9VbKKWF1f6jcNbBMW9sse+RsRo7c7PCCc5znFXcfZe9RAovbfcAxz3EmNxyf662a3t4baJIYVCouT6ksxyWJPmarV3LBGqZyPPK/iWGk6bBpNjBZQsXCGSSSRgA0ksjF2Y4HqePYD0q/pStkklSMG7dsUpSpIFKUoBSlKAUpSgFKxN92i7PaazJd6jbpIuA0aEyyA5xgpGCfmsLc/SF2YiH+n+uXTlXKiKAogYdA5mKnB9gf8gbhUK5v/wCJkwBZ9JjCgcn6yevpylaN2k7Z67r5EM0qwWijH1azMscMviLBpgXJYj5xx0zzQsotnoErnIIBB6g4INav3OkX9xfnTTBIltMLe6eE7k75o1kK7ycHGfL48q4FGSGBJbPXlm/zXYPo4UHRdUYHG7VTgemLeLiqTgpqmXt4uUXN8ez1gzC+M0RBQsBBcsBs6HcgPvViO0fYVHYvqByVwAbO8UKCCDgd351lu1l7pGn6Y02qBi0rNHYRwEC6lnAz/K9h94njnzziuV/ydQktDqAktGlDqGjiUd6fuDe52jd0yF/Cuf6bmkdEc9q2bfJq30fyxxq2oKr+DeyWeoAEr0K+HNSCfTJizWXaEpFlgizaddthT7uv6/4rAx6RZREHuxEB13EtIflmOf2qjcXVtEHSN9sSDxuDjPsK1Xo4rtlfqG+kbTb6n2ZsxL/E9eZmbKRfVLS7jbpjczbCc/FbHZdu/o+tLW2tk1UqsUYBX6nfk5PJLHuup6muG3E73ErO3AGQi+SL6VLGMsM9KtDEoPgTua5PRll2u7JahJFDaarbvLKQsayLLCWYkAKO+VeT5Cs6DXmeMAbMDGBXQex/bC5s7iDTNVuQ+nzbYree4Y77SQAKibsEmM8Dk8euOmhzONHV6VCo0KilKUApSlAKUpQDrXFNe7Yapq13dRxXE0GnxzsLaCJu7JRfAHkZAHJbqQSQM49z2sdRXmOViCZF+67b/cZNC0VZflhnjz61MmwbmY8DmrCK4BHPWozzuEGw4JOPwq1l9Snf3TSHu1OF5wBwMVYqD1NTN4mLGpuDVTVKkS11b6LbgvY9oLcniG9tJl/+2Eqf7a5URiul/RqTbQl34i1LUZ4HJ4G2CJQnPyTUpWZZftJ+1zrcdotaeW6tYjo2l6Xb2kdwx5a7JlkMUa8lsdeOnxWi6jexttjjG9ACwGSyhx0aMnBHxW59rLOGQXOrqUubrU2a/wC4IT+XbrttYmDDxY2gEfJrULKxNxC9yFBZRICfVlPOapBrK6XgmK9uOz8mRllubwIq5G9VLkHklgCcZrA6i8Il+rwnckRIkbPDydOPYVnJ7mOz0W3mSRVvp2a2WEqe8VVGGl3HgAcfnWr7eK2lLwILySj1xVzAvDH4AqmqZOKuUwowBx/UfM+grMuyuGC7VB4HWqoaLgs+PirHeoYjniqyANyeKFWjYbTtP2is+6Ftqt+Vjj7uNZpTNEFxjAjm3Lx5cVuGlfSQh7uLWbQJlo0+s2mSoBwrPLE3PudpPxxzy17lUxHGNze1UzOw6nLfoDUldLPTFvc2t3BFc2s0U9vKu6KWB1eNxnGVZeKrVwPsn2vuuz98FnMkmlXBCXMC5YxsxyJoELBQ2cbvUfArvlQUcaFKUoVFKUoDWu22rfwns/qDxzNHd3YFlZmNisgkl4Z0K8gqu5gfUD1rgpKgEZBBBB9fxrffpH1lrzVIdNiKm30oN3hVmYSXUyqzBh9nwDAHXqfgc+cxsSTlWPp0obQXBSQlX2+Rqd2yV59apHhkPoR+9TycED0NDQkP/NBmh5qIGBzQEOa6Fo0k1roPZ2NQCLiK5mHTKSy3TgSH8MYrnrHAJ9AT+ldc02xUaP2Udolk7qxsJDG0gjDjaZhGHII3OxHl0U1KnGHyl0ZZYuVJFn2lcza0bG5YwWdvp0Udn3QUBliG5A3vuPi+BWI0S12PqVpImT9ZVoBkhSJxjr06is72ssru5XSrpIcJFYTSXQzhlIxI2WHPHlWLbUrS17OrqCo0V8DPZW4+2JHIKISx5yo8VZ4ZJQjkXnhktN7Y/wAGrdoLqG51S5Fuf9NakW8ZHR3TiST/AOR/YViqKvAH7/8ANVFUZ5q/ZdcInQYGSB+NJZNiE+eMKKmIBwSc49elWUkhkkP9K8L6UCVlSLJOW+TSW4Y5SPgdKlY7U+aljAPJBPsByaEkwKrkZct5svn+dNqHk97+IFTlgv3VX9TUhYt940BDwhkwXx3kfUZH2xXqmvK4JynJ/wDMi/vFeqPM0MsgpSlDIVjdb1SDRtMvtQnOBBEe6UDJknbwxoPk4rI1p30jyKnZqWMuitNe2SIGOC+H3kL8AE/hQldnFp57qaSWaZy8sztLM7nJeRyWZj8kmrRiD1C/gKuz5ZkXr6Zqk4cdGZv+lVxQ6EWjftg/lU8p5B9QDUr5OeD59aMcqnsuKFiYYIBqJzipU5X4qY9KAk2PIRGiM7yFY41UZZnc7QAB813W2sFFpbWcc4kk0i4spZQyMpiaGBoynyAePY1yzsbZC81+0Z8GLT4LvU5BjOWt4z3YA/6iPyrdLPUe0EEM2oJEZFL2/wBXBY4kV50jcuoHQjcTWWXA80XzSRR5dJKkbFfvZXQksjOGkuLKSIRxsA+WOAo8umWb2HvWja9FZ2vY+xgtpWmgn1J7pZ54jHJJOJO6YxI3IXAOD5is9c32ltcRuGWO/h1W+aNEKnvYJlHXB46AcgVY/SLPDJY6YsW3YklvBGfJmRGlkEYBxhcqCfXiuSCnjax+ODRayW5zcVMKlAqbP/NegVKc7kKEH2jnPxVBByPaoOSxJ9+KjkgGhPRFzkgVOCAAu7GRyFBJP5VIi5JJxweanLN0BAPkFGWP5UDIdP8AbPyxqBz/AEj8OP3qLKFzvJDejHn8hVM7fIn9qElQZBjLDB7yPGCP6xXqmvKSg7kP/uR/3CvVtDDJ2KUpQyFc4+lIyNB2dhDfymnvZXTAwXjSNVb14DMPxro9cV7dai952gvkLkwaeEsoBtK7SqhpeD57iefMAVKLRVs1No40BZuQOlWjSnJ29faq0h3dTwKpZA+yB70Zuii5lIJYADyNUuMVWkLEHJqh0zUF0TxkjIqcniqQOCPQ1UPQ0Bvf0bqi3WpXLsAe8toIunjKxyyMgz8gn4reItSnu49SewtUJtLb6rYoxCB7lY3Z924bcA42/FaN2MjnfTZ7MIT9fmuLqBjxslt1ChgeuMA1sd5FewRajbxSKqPJJe3LrKhayEkJCrIFPBwD165rL2d3KLddfg555KadX2aw1leX50yK3tmjuLm5EdzNJ4oo7lcOdzrycY9Kpdubm2lvLO1gklf6gZra5MgbxXSBe8ZS3IGT0/zW6dmTBJYWtvGWeKGdlLJhGleQBnlUNg9Tx8VzvtS4TUfqqMhitXvRHtyxzLcuzM8hwzMT1JFazyTnkS6S/f8AhOGEUrfZggalkOEbHU8ULVTkOcUNqKflUypJI0ccaO8kjKkaRqXd2PAVVHJNQOACT0HJrpXZXSJNE07+J3EBfWNTCDT7TaO9jiI8G7PILfaPTA6+lZ5J6KzXHBzlqjWbXsrqj6fe399JHpsUKO0Md6ria4dfulR9kHoCep8vOsKqHbhVIBAyzeHOR0Fb/qMthbQ3za3It/qdxFNHDbRljBbMy7RJH0UuOu89MYA5rR/sqFLbmAGWPr7VGKTmm2X9TiWJqK5LYxKPujj5qm2P6cVcM3WqLEGtmc6KQwXTn/cj4Ix98V6rryoftp/3I/7hXquoMcnYpSlDIV5z1F3mv9QeRiWku7p2JJOS0rHqcmlKk1x9lmY0PXNQaKMfdpSoNi0mCg8DFW5HNKUJRktOsILyXu5XlC71X+WVBwT7qa6fof0edk7qJ5LpL2YgBQr3TKoJ+9iMLz+NKVRP5F5pe22atqtzJomqanpOmLHb2VlNtiVQWkYRHdiSViXIJPiGeatbrtPrV/Bd285tgt0oFw0MCRySruDhHdMEgYGBSlWyL52YRXwMj2f1G8ghukjYAJGdudxIPryetYjtnGidor4qMGWCxmf0MjwKWOPfzpSk/wCR/vhDH1+/6a6RVJutKVY1M72Ss7W912yjuYxJFDBd3ojb7DyW8TSIHHmuQCR54rqil5TdXLsxna9g01JON0UEiqzmP0ZsnJpSuD1P3Hd6VfFs572htY7bX9btY3lMcLwlDI258OgbaWIzgeVYWRADjJOfWlK7o/ajhy8zZaSDBPzVE9KUqSCUfaj/AO5F/eK9U0pUGGXsUpShkf/Z"},418:function(e,t,a){e.exports=a(636)},423:function(e,t,a){},426:function(e,t,a){},430:function(e,t){},431:function(e,t){},439:function(e,t){},448:function(e,t){},449:function(e,t){},450:function(e,t){},458:function(e,t){},471:function(e,t){},473:function(e,t){},486:function(e,t){},636:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),i=a(282),l=a.n(i),o=(a(423),a(6)),c=a.n(o),s=a(16),u=a(21),d=a(7),m=a(12),p=a(18),f=a(13),A=a(17),g=a(47),b=a(259),h=a.n(b),y=(a(426),a(283)),S=a(417),k=a(403),w=a.n(k),C=a(404),B=a.n(C),x=a(405),E=a.n(x),J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._refTarget=function(e){a.hoverTarget=e},a._refContent=function(e){a.hoverContent=e},a}return Object(A.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.drop=new E.a({target:this.hoverTarget,content:this.hoverContent,position:"bottom left",openOn:"click",constrainToWindow:!0,constrainToScrollParent:!0,remove:!0})}},{key:"render",value:function(){return r.a.createElement("div",{id:"underDrop"},r.a.createElement("div",{ref:this._refTarget,className:"clickTarget"},r.a.createElement("div",{ref:this._refContent},r.a.createElement("div",{id:"fpInfo"},r.a.createElement("h2",null,"+ False Positives +"),r.a.createElement("p",null,"Humans are amazing at visual identification. NSFW tries to error more on the side of things being dirty than clean. It's part of what makes failures on NSFW JS entertaining as well as practical. This algorithm for NSFW JS is constantly getting improved, ",r.a.createElement("strong",null,"and you can help!")),r.a.createElement("h3",null,"Ways to Help!"),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"\ud83c\udf1f",r.a.createElement("a",{href:"https://github.com/alexkimxyz/nsfw_data_scrapper",target:"_blank"},"Contribute to the Data Scraper")," ","- Noticed any common misclassifications? Just PR a subreddit that represents those misclassifications. Future models will be smarter!"),r.a.createElement("li",null,"\ud83c\udf1f",r.a.createElement("a",{href:"https://github.com/gantman/nsfw_model",target:"_blank"},"Contribute to the Trainer")," ","- The algorithm is public. Advancements here help NSFW JS and other projects!")),r.a.createElement("a",{href:"https://medium.freecodecamp.org/machine-learning-how-to-go-from-zero-to-hero-40e26f8aa6da",target:"_blank"},r.a.createElement("strong",null,"Learn more about how Machine Learning works!")))))),r.a.createElement("div",{className:"switchStation"},r.a.createElement("p",{id:"blurDescription"},r.a.createElement("span",null,"\u6a21\u7cca\u5904\u7406")),r.a.createElement(B.a,{onColor:"#e79f23",offColor:"#000",onChange:this.props.blurChange,checked:this.props.blurStatus})))}}]),t}(n.Component),K=a(406),v=function(e){return e.showLoading?r.a.createElement("div",{id:"spinContainer"},r.a.createElement(K,{name:"cube-grid",color:"#e79f23",id:"processCube"})):null},I=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"Sanka \u7684 NSFW \u6d4b\u8bd5"))},M=a(407),j=a.n(M),q=(a(532),[{type:"group",name:"Mobilenet v2 Model",items:[{value:"mobilenetv2",label:"90% Accurate - 2.6MB"},{value:"mobilenetMid",label:"93% Accurate - 4.2MB"}]},{type:"group",name:"Inception v3 Model",items:[{value:"inceptionv3",label:"93% Accurate - Huge!"}]}]),W=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"modelPicker"},r.a.createElement("p",null,"Currently Using:"),r.a.createElement(j.a,{options:q,onChange:e.onChange,value:e.value})))},P=a(644),U=a(649),D=a(645),N=a(642),L=a(651),G=function(e){return r.a.createElement(P.a,{height:150,domainPadding:{x:10}},r.a.createElement(U.a,{style:{tickLabels:{fill:"#fff",fontSize:8,padding:0},axisLabel:{fill:"#fff",fontSize:8,padding:10}},label:"GIF Frame Index"}),r.a.createElement(U.a,{dependentAxis:!0,style:{tickLabels:{fill:"#fff",fontSize:8},grid:{stroke:"gray"},ticks:{stroke:"gray",size:10}},tickValues:[0,.25,.5,.75,1],tickFormat:function(e){return"".concat((100*e).toFixed(0),"%")}}),r.a.createElement(D.a,{x:15,y:125,width:100,orientation:"horizontal",gutter:12,style:{border:{stroke:"black"},labels:{fill:"white",fontSize:8}},data:[{name:"Hentai",symbol:{fill:"#eef442",fillOpacity:.8}},{name:"Porn",symbol:{fill:"#f00",fillOpacity:.8}},{name:"Sexy",symbol:{fill:"#e79f23",fillOpacity:.8}},{name:"Drawing",symbol:{fill:"#0f0",fillOpacity:.8}},{name:"Neutral",symbol:{fill:"#fff",fillOpacity:.8}}]}),r.a.createElement(N.a,{animate:!0,labelComponent:r.a.createElement(L.a,{style:{fontSize:10}}),labels:function(e){return"".concat((100*e.probability).toFixed(0),"% ").concat(e.className)},style:{data:{fill:function(e){switch(e.className){case"Hentai":return"#eef442";case"Porn":return"#f00";case"Sexy":return"#e79f23";case"Drawing":return"#0f0";case"Neutral":return"#fff"}},fillOpacity:.8}},barRatio:1,data:e.data&&e.data.flat(),y:"probability",events:[{target:"data",eventHandlers:{onMouseOver:function(){return[{target:"data",mutation:function(t){return e.gifControl.pause(),e.gifControl.move_to(t.index),null}},{target:"labels",mutation:function(){return{active:!0}}}]},onMouseOut:function(){return[{target:"data",mutation:function(){return e.gifControl.play(),null}},{target:"labels",mutation:function(){return{active:!1}}}]}}}]}))},O=function(e){return r.a.createElement("div",{id:"results"},r.a.createElement("p",null,e.message),function(e){return e.predictions[0]&&e.predictions[0].className?(e.predictions.forEach(function(e){switch(e.className){case"Hentai":e.name="\u6f2b\u753b\u8272\u60c5";break;case"Porn":e.name="\u8272\u60c5";break;case"Sexy":e.name="\u6027\u6697\u793a";break;case"Drawing":e.name="\u7ed8\u753b";break;case"Neutral":e.name="\u6b63\u5e38"}}),r.a.createElement("div",{id:"predictions"},r.a.createElement("ul",null,e.predictions.map(function(e){return r.a.createElement("li",{key:e.className},e.name," -"," ",(100*e.probability).toFixed(2),"%")})))):e.predictions[0]?r.a.createElement(G,{data:e.predictions,gifControl:e.gifControl}):void 0}(e))},H={filter:"blur(30px)",WebkitFilter:"blur(30px)"},F={},Q="\u8bad\u7ec3\u6a21\u578b\u52a0\u8f7d\u4e2d",z="\u62d6\u52a8\u56fe\u7247\u6216\u8005\u70b9\u51fb\u4e0a\u4f20",V="Cam active",Y=1e3,R={mobilenetv2:["/quant_nsfw_mobilenet/"],mobilenetMid:["/quant_mid/",{type:"graph"}],inceptionv3:["/model/",{size:299}]},T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).state={model:null,graphic:h.a,titleMessage:"\u6a21\u578b\u52a0\u8f7d\u4e2d...",message:Q,predictions:[],droppedImageStyle:{opacity:.4},blurNSFW:!1,enableWebcam:!1,loading:!0,fileType:null,hardReset:!1,gifControl:null,currentModelName:"mobilenetMid"},a._onChange=function(e){var t=e.value;a.setState({currentModelName:t},a._loadModel)},a._loadModel=function(){a.setState({titleMessage:"\u8bad\u7ec3\u6a21\u578b\u52a0\u8f7d\u4e2d...",message:Q,droppedImageStyle:{opacity:.4},graphic:h.a,hardReset:!0,predictions:[],loading:!0}),y.load.apply(y,Object(u.a)(R[a.state.currentModelName])).then(function(e){a.setState({model:e,titleMessage:a.state.enableWebcam?V:z,message:"\u51c6\u5907\u5b8c\u6bd5",loading:!1})})},a._refWeb=function(e){a.webcam=e},a.detectBlurStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.state.blurNSFW,n=F;if("image/gif"===a.state.fileType)n=a.detectGifEvil(e)>0&&t?H:F;else if(t)switch(e[0].className){case"Hentai":case"Porn":case"Sexy":n=H}return n},a.detectGifEvil=function(e){return e.filter(function(e){return["Hentai","Porn","Sexy"].includes(e[0].className)}).flat().length},a.checkContent=Object(s.a)(c.a.mark(function e(){var t,n,r,i,l,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sleep(100);case 2:if(t=a.refs.dropped,"image/gif"!==a.state.fileType){e.next=14;break}return a.setState({message:"0% - Parsing GIF frames",predictions:[],loading:!0}),e.next=7,a.state.model.classifyGif(t,{topk:1,setGifControl:function(e){a.setState({gifControl:e})},onFrame:function(e){var t=e.index,n=e.totalFrames,r=e.predictions,i=(t/n*100).toFixed(0);a.setState({message:"".concat(i,"% - Frame ").concat(t," is ").concat(r[0].className)})}});case 7:n=e.sent,r=a.detectGifEvil(n),i=a.detectBlurStatus(n),l=r>0?"Detected ".concat(r," NSFW frames"):"All frames look clean",a.setState({message:"GIF Result: ".concat(l),predictions:n,droppedImageStyle:i,loading:!1}),e.next=19;break;case 14:return e.next=16,a.state.model.classify(t);case 16:o=e.sent,s=a.detectBlurStatus(o),a.setState({message:"Identified as ".concat(o[0].className),predictions:o,droppedImageStyle:s});case 19:case"end":return e.stop()}},e,this)})),a.setFile=function(e){var t=new FileReader;t.onload=function(t){a.setState({graphic:t.target.result,fileType:e.type},a.checkContent)},t.readAsDataURL(e)},a.onDrop=function(e,t){if(t.length>0)window.alert("JPG, PNG, WEBP, GIF only plz");else{var n=a.state.blurNSFW?H:F;a.setState({message:"Processing...",droppedImageStyle:n,hardReset:!0}),a.setFile(e[0])}},a.detectWebcam=Object(s.a)(c.a.mark(function e(){var t,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sleep(100);case 2:if(!(t=document.querySelectorAll(".captureCam"))[0]){e.next=10;break}return e.next=6,a.state.model.classify(t[0]);case 6:n=e.sent,r=a.detectBlurStatus(n),a.setState({message:"Identified as ".concat(n[0].className),predictions:n,graphic:h.a,droppedImageStyle:r}),setTimeout(a.detectWebcam,Y);case 10:case"end":return e.stop()}},e,this)})),a.blurChange=function(e){var t=F;a.state.predictions.length>0&&(t=a.detectBlurStatus(a.state.predictions,e)),a.setState({blurNSFW:e,droppedImageStyle:t})},a._renderInterface=function(){var e=window.innerWidth,t=window.innerHeight,n={width:{ideal:e,max:e},height:{ideal:t,max:t},facingMode:"environment"};return a.state.enableWebcam?r.a.createElement(w.a,{id:"capCam",className:"captureCam",style:a.state.droppedImageStyle,width:e,audio:!1,ref:a._refWeb,videoConstraints:n}):a.state.hardReset?(a.setState({hardReset:!1}),null):r.a.createElement(S.a,{id:"dropBox",accept:"image/jpeg, image/png, image/gif, image/webp",className:"photo-box",onDrop:a.onDrop.bind(Object(g.a)(Object(g.a)(a)))},r.a.createElement("div",{style:a.state.droppedImageStyle},r.a.createElement("img",{src:a.state.graphic,alt:"drop your file here",className:"dropped-photo",ref:"dropped"})))},a._camChange=function(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(a.detectWebcam(),a.setState({enableWebcam:!a.state.enableWebcam,message:"Ready",predictions:[],droppedImageStyle:{},fileType:null,titleMessage:a.state.enableWebcam?z:V})):window.alert("Sorry, your browser doesn't seem to support camera access.")},a}return Object(A.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this._loadModel()}},{key:"sleep",value:function(e){return new Promise(function(t){return setTimeout(t,e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement("div",{id:"overDrop"},r.a.createElement("p",{id:"topMessage"},this.state.titleMessage)),this._renderInterface(),r.a.createElement(J,{camChange:this._camChange,camStatus:this.state.enableWebcam,blurChange:this.blurChange,blurStatus:this.state.blurNSFW})),r.a.createElement(v,{showLoading:this.state.loading}),r.a.createElement(O,{message:this.state.message,gifControl:this.state.gifControl,predictions:this.state.predictions})),r.a.createElement(W,{onChange:this._onChange,value:this.state.currentModelName}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[418,1,2]]]);
//# sourceMappingURL=main.8f492d5a.chunk.js.map