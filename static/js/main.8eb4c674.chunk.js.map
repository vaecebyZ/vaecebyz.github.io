{"version":3,"sources":["OIP.jpg","components/Underdrop.js","components/Loading.js","components/Header.js","components/GifBar.js","components/Results.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Underdrop","_refTarget","ref","_this","hoverTarget","_refContent","hoverContent","this","drop","Drop","target","content","position","openOn","constrainToWindow","constrainToScrollParent","remove","react_default","a","createElement","id","className","href","react_switch_default","onColor","offColor","onChange","props","blurChange","checked","blurStatus","Component","Loading","_ref","showLoading","react_spinkit_dist","name","color","Header","GifBar","victory_chart","height","domainPadding","x","victory_axis","style","tickLabels","fill","fontSize","padding","axisLabel","label","dependentAxis","grid","stroke","ticks","size","tickValues","tickFormat","concat","toFixed","victory_legend","y","width","orientation","gutter","border","labels","data","symbol","fillOpacity","victory_bar","animate","labelComponent","victory_tooltip","d","probability","barRatio","flat","events","eventHandlers","onMouseOver","mutation","victoryBarProps","gifControl","pause","move_to","index","active","onMouseOut","play","Results","message","predictions","forEach","element","map","prediction","key","renderPredictions","blurred","filter","WebkitFilter","clean","loadingMessage","dragMessage","camMessage","DETECTION_PERIOD","availableModels","mobilenetv2","mobilenetMid","type","inceptionv3","App","state","model","graphic","logo","titleMessage","droppedImageStyle","opacity","blurNSFW","enableWebcam","loading","fileType","hardReset","currentModelName","_onChange","value","setState","_loadModel","nsfwjs","apply","Object","toConsumableArray","then","_refWeb","webcam","detectBlurStatus","arguments","length","undefined","detectGifEvil","c","includes","checkContent","_callee","img","deemedEvil","gifMessage","_predictions","_droppedImageStyle","regenerator_default","wrap","_context","prev","next","sleep","refs","dropped","classifyGif","topk","setGifControl","onFrame","_ref3","totalFrames","percent","sent","classify","stop","setFile","file","reader","FileReader","onload","e","result","readAsDataURL","onDrop","accepted","rejected","window","alert","detectWebcam","_callee2","video","_context2","document","querySelectorAll","setTimeout","_renderInterface","maxWidth","innerWidth","maxHeight","innerHeight","videoConstraints","ideal","max","facingMode","react_webcam_default","audio","es","accept","bind","assertThisInitialized","src","alt","_camChange","navigator","mediaDevices","getUserMedia","ms","Promise","resolve","Underdrop_Underdrop","camChange","camStatus","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8eb4c674.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","import React, { Component } from 'react'\r\nimport Switch from 'react-switch'\r\nimport Drop from 'tether-drop'\r\n\r\nexport default class Underdrop extends Component {\r\n  componentDidMount() {\r\n    // hovercard\r\n    this.drop = new Drop({\r\n      target: this.hoverTarget,\r\n      content: this.hoverContent,\r\n      position: 'bottom left',\r\n      openOn: 'click',\r\n      constrainToWindow: true,\r\n      constrainToScrollParent: true,\r\n      remove: true\r\n    })\r\n  }\r\n\r\n  _refTarget = ref => {\r\n    this.hoverTarget = ref\r\n  }\r\n\r\n  _refContent = ref => {\r\n    this.hoverContent = ref\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"underDrop\">\r\n        <div ref={this._refTarget} className=\"clickTarget\">\r\n         \r\n          <div ref={this._refContent}>\r\n            <div id=\"fpInfo\">\r\n              <h2>+ False Positives +</h2>\r\n              <p>\r\n                Humans are amazing at visual identification. NSFW tries to error\r\n                more on the side of things being dirty than clean. It's part of\r\n                what makes failures on NSFW JS entertaining as well as\r\n                practical. This algorithm for NSFW JS is constantly getting\r\n                improved, <strong>and you can help!</strong>\r\n              </p>\r\n              <h3>Ways to Help!</h3>\r\n              <div>\r\n                <ul>\r\n                  <li>\r\n                    🌟\r\n                    <a\r\n                      href=\"https://github.com/alexkimxyz/nsfw_data_scrapper\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      Contribute to the Data Scraper\r\n                    </a>{' '}\r\n                    - Noticed any common misclassifications? Just PR a subreddit\r\n                    that represents those misclassifications. Future models will\r\n                    be smarter!\r\n                  </li>\r\n                  <li>\r\n                    🌟\r\n                    <a\r\n                      href=\"https://github.com/gantman/nsfw_model\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      Contribute to the Trainer\r\n                    </a>{' '}\r\n                    - The algorithm is public. Advancements here help NSFW JS\r\n                    and other projects!\r\n                  </li>\r\n                </ul>\r\n                <a\r\n                  href=\"https://medium.freecodecamp.org/machine-learning-how-to-go-from-zero-to-hero-40e26f8aa6da\"\r\n                  target=\"_blank\"\r\n                >\r\n                  <strong>Learn more about how Machine Learning works!</strong>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"switchStation\" id=\"camBlock\">\r\n          <p id=\"camDescription\">\r\n            <span>Camera</span>\r\n          </p>\r\n          <Switch\r\n            onColor=\"#e79f23\"\r\n            offColor=\"#000\"\r\n            onChange={this.props.camChange}\r\n            checked={this.props.camStatus}\r\n          />\r\n        </div> */}\r\n        <div className=\"switchStation\">\r\n          <p id=\"blurDescription\">\r\n            <span>模糊处理</span>\r\n          </p>\r\n          <Switch\r\n            onColor=\"#e79f23\"\r\n            offColor=\"#000\"\r\n            onChange={this.props.blurChange}\r\n            checked={this.props.blurStatus}\r\n          />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport * as Spinner from 'react-spinkit'\r\n\r\nexport default ({ showLoading }) => {\r\n  if (showLoading) {\r\n    return (\r\n      <div id=\"spinContainer\">\r\n        <Spinner name=\"cube-grid\" color=\"#e79f23\" id=\"processCube\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return null\r\n}\r\n","import React from 'react'\r\n\r\nexport default () => (\r\n  <header>\r\n    <h1>Sanka 的 NSFW 测试</h1>\r\n  </header>\r\n)\r\n","import React from 'react'\r\nimport {\r\n  VictoryBar,\r\n  VictoryChart,\r\n  VictoryAxis,\r\n  VictoryTooltip,\r\n  VictoryLegend\r\n} from 'victory'\r\n\r\nexport default props => (\r\n  <VictoryChart height={150} domainPadding={{ x: 10 }}>\r\n    <VictoryAxis\r\n      style={{\r\n        tickLabels: { fill: '#fff', fontSize: 8, padding: 0 },\r\n        axisLabel: { fill: '#fff', fontSize: 8, padding: 10 }\r\n      }}\r\n      label=\"GIF Frame Index\"\r\n    />\r\n    <VictoryAxis\r\n      dependentAxis\r\n      style={{\r\n        tickLabels: { fill: '#fff', fontSize: 8 },\r\n        grid: { stroke: 'gray' },\r\n        ticks: { stroke: 'gray', size: 10 }\r\n      }}\r\n      tickValues={[0, 0.25, 0.5, 0.75, 1.0]}\r\n      // tickFormat specifies how ticks should be displayed\r\n      tickFormat={x => `${(x * 100).toFixed(0)}%`}\r\n    />\r\n    <VictoryLegend\r\n      x={15}\r\n      y={125}\r\n      width={100}\r\n      orientation=\"horizontal\"\r\n      gutter={12}\r\n      style={{\r\n        border: { stroke: 'black' },\r\n        labels: { fill: 'white', fontSize: 8 }\r\n      }}\r\n      data={[\r\n        { name: 'Hentai', symbol: { fill: '#eef442', fillOpacity: 0.8 } },\r\n        { name: 'Porn', symbol: { fill: '#f00', fillOpacity: 0.8 } },\r\n        { name: 'Sexy', symbol: { fill: '#e79f23', fillOpacity: 0.8 } },\r\n        { name: 'Drawing', symbol: { fill: '#0f0', fillOpacity: 0.8 } },\r\n        { name: 'Neutral', symbol: { fill: '#fff', fillOpacity: 0.8 } }\r\n      ]}\r\n    />\r\n    <VictoryBar\r\n      animate={true}\r\n      labelComponent={<VictoryTooltip style={{ fontSize: 10 }} />}\r\n      labels={d => `${(d.probability * 100).toFixed(0)}% ${d.className}`}\r\n      style={{\r\n        data: {\r\n          fill: d => {\r\n            switch (d.className) {\r\n              case 'Hentai':\r\n                return '#eef442'\r\n              case 'Porn':\r\n                return '#f00'\r\n              case 'Sexy':\r\n                return '#e79f23'\r\n              case 'Drawing':\r\n                return '#0f0'\r\n              case 'Neutral':\r\n                return '#fff'\r\n            }\r\n          },\r\n          fillOpacity: 0.8\r\n        }\r\n      }}\r\n      barRatio={1}\r\n      data={props.data && props.data.flat()}\r\n      y=\"probability\"\r\n      events={[{\r\n        target: \"data\",\r\n        eventHandlers: {\r\n          onMouseOver: () => {\r\n            return [{\r\n              target: 'data',\r\n              mutation: (victoryBarProps) => {\r\n                props.gifControl.pause();\r\n                props.gifControl.move_to(victoryBarProps.index);\r\n                return null;\r\n              }\r\n            }, {\r\n              target: 'labels',\r\n              mutation: () => ({ active: true })\r\n            }];\r\n          },\r\n          onMouseOut: () => {\r\n            return [{\r\n              target: 'data',\r\n              mutation: () => {\r\n                props.gifControl.play();\r\n                return null;\r\n              }\r\n            }, {\r\n              target: 'labels',\r\n              mutation: () => ({ active: false })\r\n            }];\r\n          }\r\n        }\r\n      }]}\r\n    />\r\n  </VictoryChart>\r\n)\r\n","import React from \"react\";\r\nimport GifBar from \"./GifBar\";\r\n\r\n// Render Text Prediction OR GifBar\r\nconst renderPredictions = (props) => {\r\n  // only render if predictions is in singular format\r\n  if (props.predictions[0] && props.predictions[0].className) {\r\n    props.predictions.forEach((element) => {\r\n      switch (element.className) {\r\n        case \"Hentai\":\r\n          element.name = \"漫画色情\";\r\n          break;\r\n        case \"Porn\":\r\n          element.name = \"色情\";\r\n          break;\r\n        case \"Sexy\":\r\n          element.name = \"性暗示\";\r\n          break;\r\n        case \"Drawing\":\r\n          element.name = \"绘画\";\r\n          break;\r\n        case \"Neutral\":\r\n          element.name = \"正常\";\r\n          break;\r\n      }\r\n    });\r\n    return (\r\n      <div id=\"predictions\">\r\n        <ul>\r\n          {props.predictions.map((prediction) => (\r\n            <li key={prediction.className}>\r\n              {prediction.name} -{\" \"}\r\n              {(prediction.probability * 100).toFixed(2)}%\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  } else if (props.predictions[0]) {\r\n    return <GifBar data={props.predictions} gifControl={props.gifControl} />;\r\n  }\r\n};\r\n\r\nexport default (props) => (\r\n  <div id=\"results\">\r\n    <p>{props.message}</p>\r\n    {renderPredictions(props)}\r\n  </div>\r\n);\r\n","import React, { Component } from 'react'\r\nimport logo from './OIP.jpg'\r\nimport './App.css'\r\nimport * as nsfwjs from 'nsfwjs'\r\nimport Dropzone from 'react-dropzone'\r\nimport Webcam from 'react-webcam'\r\n\r\n// components\r\nimport Underdrop from './components/Underdrop'\r\nimport Loading from './components/Loading'\r\nimport Header from './components/Header'\r\n// import Footer from './components/Footer'\r\nimport Results from './components/Results'\r\n\r\nconst blurred = { filter: 'blur(30px)', WebkitFilter: 'blur(30px)' }\r\nconst clean = {}\r\nconst loadingMessage = '训练模型加载中'\r\nconst dragMessage = '拖动图片或者点击上传'\r\nconst camMessage = 'Cam active'\r\nconst DETECTION_PERIOD = 1000\r\n\r\nconst availableModels = {\r\n  mobilenetv2: ['/quant_nsfw_mobilenet/'],\r\n  mobilenetMid: ['/quant_mid/', { type: 'graph' }],\r\n  inceptionv3: ['/model/', { size: 299 }],\r\n}\r\n\r\nclass App extends Component {\r\n  state = {\r\n    model: null,\r\n    graphic: logo,\r\n    titleMessage: '模型加载中...',\r\n    message: loadingMessage,\r\n    predictions: [],\r\n    droppedImageStyle: { opacity: 0.4 },\r\n    blurNSFW: false,\r\n    enableWebcam: false,\r\n    loading: true,\r\n    fileType: null,\r\n    hardReset: false,\r\n    gifControl: null,\r\n    currentModelName: 'mobilenetMid',\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._loadModel()\r\n  }\r\n\r\n  _onChange = ({ value }) => {\r\n    this.setState({ currentModelName: value }, this._loadModel)\r\n  }\r\n\r\n  _loadModel = () => {\r\n    this.setState({\r\n      titleMessage: '训练模型加载中...',\r\n      message: loadingMessage,\r\n      droppedImageStyle: { opacity: 0.4 },\r\n      graphic: logo,\r\n      hardReset: true,\r\n      predictions: [],\r\n      loading: true,\r\n    })\r\n    // Load model from public folder\r\n    nsfwjs\r\n      .load(...availableModels[this.state.currentModelName])\r\n      .then((model) => {\r\n        this.setState({\r\n          model,\r\n          titleMessage: this.state.enableWebcam ? camMessage : dragMessage,\r\n          message: '准备完毕',\r\n          loading: false,\r\n        })\r\n      })\r\n  }\r\n\r\n  _refWeb = (webcam) => {\r\n    this.webcam = webcam\r\n  }\r\n\r\n  // terrible race condition fix :'(\r\n  sleep(ms) {\r\n    return new Promise((resolve) => setTimeout(resolve, ms))\r\n  }\r\n\r\n  detectBlurStatus = (predictions, blurNSFW = this.state.blurNSFW) => {\r\n    let droppedImageStyle = clean\r\n    if (this.state.fileType === 'image/gif') {\r\n      const deemedEvil = this.detectGifEvil(predictions)\r\n      droppedImageStyle = deemedEvil > 0 && blurNSFW ? blurred : clean\r\n    } else {\r\n      if (blurNSFW) {\r\n        switch (predictions[0].className) {\r\n          case 'Hentai':\r\n          case 'Porn':\r\n          case 'Sexy':\r\n          droppedImageStyle = blurred\r\n        }\r\n      }\r\n    }\r\n    return droppedImageStyle\r\n  }\r\n\r\n  detectGifEvil = (predictions) =>\r\n    predictions\r\n      .filter((c) => {\r\n        return ['动漫色情', '色情', '性暗示'].includes(c[0].className)\r\n      })\r\n      .flat().length\r\n\r\n  checkContent = async () => {\r\n    // Sleep bc it's grabbing image before it's rendered\r\n    // Not really a problem of this library\r\n    await this.sleep(100)\r\n    const img = this.refs.dropped\r\n    if (this.state.fileType === 'image/gif') {\r\n      this.setState({\r\n        message: `0% - Parsing GIF frames`,\r\n        predictions: [],\r\n        loading: true,\r\n      })\r\n      const predictions = await this.state.model.classifyGif(img, {\r\n        topk: 1,\r\n        setGifControl: (gifControl) => {\r\n          this.setState({\r\n            gifControl,\r\n          })\r\n        },\r\n        onFrame: ({ index, totalFrames, predictions }) => {\r\n          const percent = ((index / totalFrames) * 100).toFixed(0)\r\n          this.setState({\r\n            message: `${percent}% - Frame ${index} is ${predictions[0].className}`,\r\n          })\r\n        },\r\n      })\r\n      const deemedEvil = this.detectGifEvil(predictions)\r\n      // If any frame is NSFW, blur it (if blur is on)\r\n      const droppedImageStyle = this.detectBlurStatus(predictions)\r\n      const gifMessage =\r\n        deemedEvil > 0\r\n          ? `Detected ${deemedEvil} NSFW frames`\r\n          : 'All frames look clean'\r\n      this.setState({\r\n        message: `GIF Result: ${gifMessage}`,\r\n        predictions,\r\n        droppedImageStyle,\r\n        loading: false,\r\n      })\r\n    } else {\r\n      const predictions = await this.state.model.classify(img)\r\n      let droppedImageStyle = this.detectBlurStatus(predictions)\r\n      this.setState({\r\n        message: `Identified as ${predictions[0].className}`,\r\n        predictions,\r\n        droppedImageStyle,\r\n      })\r\n    }\r\n  }\r\n\r\n  setFile = (file) => {\r\n    // drag and dropped\r\n    const reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      this.setState(\r\n        { graphic: e.target.result, fileType: file.type },\r\n        this.checkContent\r\n      )\r\n    }\r\n\r\n    reader.readAsDataURL(file)\r\n  }\r\n\r\n  onDrop = (accepted, rejected) => {\r\n    if (rejected.length > 0) {\r\n      window.alert('JPG, PNG, WEBP, GIF only plz')\r\n    } else {\r\n      let droppedImageStyle = this.state.blurNSFW ? blurred : clean\r\n      this.setState({\r\n        message: 'Processing...',\r\n        droppedImageStyle,\r\n        hardReset: true,\r\n      })\r\n      this.setFile(accepted[0])\r\n    }\r\n  }\r\n\r\n  detectWebcam = async () => {\r\n    await this.sleep(100)\r\n\r\n    const video = document.querySelectorAll('.captureCam')\r\n    // assure video is still shown\r\n    if (video[0]) {\r\n      const predictions = await this.state.model.classify(video[0])\r\n      let droppedImageStyle = this.detectBlurStatus(predictions)\r\n      this.setState({\r\n        message: `Identified as ${predictions[0].className}`,\r\n        predictions,\r\n        graphic: logo,\r\n        droppedImageStyle,\r\n      })\r\n      setTimeout(this.detectWebcam, DETECTION_PERIOD)\r\n    }\r\n  }\r\n\r\n  blurChange = (checked) => {\r\n    // Check on blurring\r\n    let droppedImageStyle = clean\r\n    if (this.state.predictions.length > 0) {\r\n      droppedImageStyle = this.detectBlurStatus(this.state.predictions, checked)\r\n    }\r\n\r\n    this.setState({\r\n      blurNSFW: checked,\r\n      droppedImageStyle,\r\n    })\r\n  }\r\n\r\n  _renderInterface = () => {\r\n    const maxWidth = window.innerWidth\r\n    const maxHeight = window.innerHeight\r\n\r\n    const videoConstraints = {\r\n      width: { ideal: maxWidth, max: maxWidth },\r\n      height: { ideal: maxHeight, max: maxHeight },\r\n      facingMode: 'environment',\r\n    }\r\n    if (this.state.enableWebcam) {\r\n      return (\r\n        <Webcam\r\n          id=\"capCam\"\r\n          className=\"captureCam\"\r\n          style={this.state.droppedImageStyle}\r\n          width={maxWidth}\r\n          audio={false}\r\n          ref={this._refWeb}\r\n          videoConstraints={videoConstraints}\r\n        />\r\n      )\r\n    } else {\r\n      // SuperGif kills our React Component\r\n      // Only way I can seem to revive it is\r\n      // to force a full re-render of Drop area\r\n      if (this.state.hardReset) {\r\n        this.setState({ hardReset: false })\r\n        return null\r\n      }\r\n      return (\r\n        <Dropzone\r\n          id=\"dropBox\"\r\n          accept=\"image/jpeg, image/png, image/gif, image/webp\"\r\n          className=\"photo-box\"\r\n          onDrop={this.onDrop.bind(this)}\r\n        >\r\n          <div style={this.state.droppedImageStyle}>\r\n            <img\r\n              src={this.state.graphic}\r\n              alt=\"drop your file here\"\r\n              className=\"dropped-photo\"\r\n              ref=\"dropped\"\r\n            />\r\n          </div>\r\n        </Dropzone>\r\n      )\r\n    }\r\n  }\r\n\r\n  _camChange = (e) => {\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      window.alert(\"Sorry, your browser doesn't seem to support camera access.\")\r\n      return\r\n    }\r\n    this.detectWebcam()\r\n    this.setState({\r\n      enableWebcam: !this.state.enableWebcam,\r\n      message: 'Ready',\r\n      predictions: [],\r\n      droppedImageStyle: {},\r\n      fileType: null,\r\n      titleMessage: this.state.enableWebcam ? dragMessage : camMessage,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Header />\r\n        <main>\r\n          <div>\r\n            <div id=\"overDrop\">\r\n              <p id=\"topMessage\">{this.state.titleMessage}</p>\r\n            </div>\r\n            {this._renderInterface()}\r\n            <Underdrop\r\n              camChange={this._camChange}\r\n              camStatus={this.state.enableWebcam}\r\n              blurChange={this.blurChange}\r\n              blurStatus={this.state.blurNSFW}\r\n            />\r\n          </div>\r\n          <Loading showLoading={this.state.loading} />\r\n          <Results\r\n            message={this.state.message}\r\n            gifControl={this.state.gifControl}\r\n            predictions={this.state.predictions}\r\n          />\r\n        </main>\r\n        {/* <Footer onChange={this._onChange} value={this.state.currentModelName} /> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}